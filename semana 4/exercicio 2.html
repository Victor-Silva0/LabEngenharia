<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercicio 2</title>
</head>
<body>

<h1>Exercício 2</h1>
    
<p>Marca: <input id="marca" type="text" value=""></p>
<p>Modelo: <input id="modelo" type="text" value=""></p>
<p>Ano: <input id="ano" type="date" value=""></p>
<p>Kilometragem: <input id="kilometragem" type="number" value=""> KM</p>
<p>Valor_fipe: <input id="valor_fipe" type="number" value=""></p>

<button onclick="mostrarDados()">Enviar</button>
<button onclick="limparCampos()">Redefinir</button>


<div id="dadosExibidos"></div>

<script language="javascript" type="text/javascript">

function Carro()
{
    this.marca = '';
    this.modelo = '';
    this.ano = '';
    this.kilometragem = 0;
    this.valor_fipe = 0;

    this.setMarca = function(marca)
    {
        this.marca = marca;
    }
    this.getMarca = function()
    {
        return this.marca;
    }

    this.setModelo = function(modelo)
    {
        this.modelo = modelo;
    }
    this.getModelo = function()
    {
        return this.modelo;
    }

    this.setAno = function(ano)
    {
        this.ano = ano;
    }
    this.getAno = function()
    {
        return this.ano;
    }

    this.setKilometragem = function(kilometragem)
    {
        this.kilometragem = kilometragem;
    }
    this.getKilometragem = function()
    {
        return this.kilometragem;
    }

    this.setValor_fipe = function(valor_fipe)
    {
        this.valor_fipe = valor_fipe;
    }
    this.getValor_fipe = function()
    {
        return this.valor_fipe;
    }

    this.anosUtilicao = function()
    {
        const data = new Date();
        const year = data.getFullYear();
        return year - parseInt(this.ano.substring(0, 4));
    }

    this.valorMercado = function()
    {
        if (this.kilometragem <= 30000) {
            return this.valor_fipe * 1.1;
        } else if (this.kilometragem <= 50000) {
            return this.valor_fipe;
        } else {
            return this.valor_fipe * 0.9;
        }
    }
}

function mostrarDados() 
{
    const carro = new Carro();
    
    carro.setMarca(document.getElementById("marca").value);
    carro.setModelo(document.getElementById("modelo").value);
    carro.setAno(document.getElementById("ano").value);
    carro.setKilometragem(document.getElementById("kilometragem").value);
    carro.setValor_fipe(document.getElementById("valor_fipe").value);

    const resultadoDiv = document.getElementById('dadosExibidos');
    resultadoDiv.innerHTML = `
    <p>Marca: ${carro.getMarca()}</p>
    <p>Modelo: ${carro.getModelo()}</p>
    <p>Ano: ${carro.getAno()}</p>
    <p>Kilometragem: ${carro.getKilometragem()} km</p>
    <p>Valor FIPE: R$ ${carro.getValor_fipe()}</p>
    <p>Anos de Utilização: ${carro.anosUtilicao()} anos</p>
    <p>Valor de Mercado: R$ ${carro.valorMercado()}</p>
    `;
}

function limparCampos() {
    document.getElementById("dadosExibidos").innerHTML = "";
}

</script>

<p><a href="../semana4.html">Voltar</a></p>

</body>
</html>
